var assignments = [
  {
    Name: "LUDO",
    Code: "https://tubular-clafoutis-98417a.netlify.app",
    Link: "https://tubular-clafoutis-98417a.netlify.app",
    date: "5/28/2024",
    description: "create ludo using html tables",
    image: "images/cat1.WEBp",
  },
  {
    Name: "Ecommerce site",
    Code: "https://tubular-clafoutis-98417a.netlify.app",
    Link: "https://tubular-clafoutis-98417a.netlify.app",
    date: "5/28/2024",
    description: "create ludo using html tables",
    image: "images/cat1.WEBp",
  },
  {
    Name: "flex box",
    Code: "https://tubular-clafoutis-98417a.netlify.app",
    Link: "https://tubular-clafoutis-98417a.netlify.app",
    date: "5/28/2024",
    description: "create ludo using html tables",
    image: "images/cat1.WEBp",
  },
  {
    Name: "figma clone",
    Code: "https://tubular-clafoutis-98417a.netlify.app",
    Link: "https://tubular-clafoutis-98417a.netlify.app",
    date: "5/28/2024",
    description: "create ludo using html tables",
    image: "images/cat1.WEBp",
  },
  {
    Name: "Grid",
    Code: "https://tubular-clafoutis-98417a.netlify.app",
    Link: "https://tubular-clafoutis-98417a.netlify.app",
    date: "5/28/2024",
    description: "create ludo using html tables",
    image: "images/cat1.WEBp",
  },
  {
    Name: "Gaming-PC",
    Code: "https://tubular-clafoutis-98417a.netlify.app",
    Link: "https://tubular-clafoutis-98417a.netlify.app",
    date: "5/28/2024",
    description: "create ludo using html tables",
    image: "images/cat1.WEBp",
  },
  {
    Name: "Navbar",
    Code: "https://tubular-clafoutis-98417a.netlify.app",
    Link: "https://tubular-clafoutis-98417a.netlify.app",
    date: "5/28/2024",
    description: "create ludo using html tables",
    image: "images/cat1.WEBp",
  },
  {
    Name: "NEW-NAV",
    Code: "https://tubular-clafoutis-98417a.netlify.app",
    Link: "https://tubular-clafoutis-98417a.netlify.app",
    date: "5/28/2024",
    description: "create ludo using html tables",
    image: "images/cat1.WEBp",
  },
  {
    Name: "Registration Form",
    Code: "https://tubular-clafoutis-98417a.netlify.app",
    Link: "https://tubular-clafoutis-98417a.netlify.app",
    date: "5/28/2024",
    description: "create ludo using html tables",
    image: "images/cat1.WEBp",
  },
  {
    Name: "Responsive Cards",
    Code: "https://tubular-clafoutis-98417a.netlify.app",
    Link: "https://tubular-clafoutis-98417a.netlify.app",
    date: "5/28/2024",
    description: "create ludo using html tables",
    image: "images/cat1.WEBp",
  },
  {
    Name: "Etsy",
    Code: "https://tubular-clafoutis-98417a.netlify.app",
    Link: "https://tubular-clafoutis-98417a.netlify.app",
    date: "5/28/2024",
    description: "create ludo using html tables",
    image: "images/cat1.WEBp",
  },
  {
    Name: "Figma Clone",
    Code: "https://tubular-clafoutis-98417a.netlify.app",
    Link: "https://tubular-clafoutis-98417a.netlify.app",
    date: "5/28/2024",
    description: "create ludo using html tables",
    image: "images/cat1.WEBp",
  },
  {
    Name: "Color Picker",
    Code: "https://tubular-clafoutis-98417a.netlify.app",
    Link: "https://tubular-clafoutis-98417a.netlify.app",
    date: "5/28/2024",
    description: "create ludo using html tables",
    image: "images/cat1.WEBp",
  },
  {
    Name: "New Color Picker",
    Code: "https://tubular-clafoutis-98417a.netlify.app",
    Link: "https://tubular-clafoutis-98417a.netlify.app",
    date: "5/28/2024",
    description: "create ludo using html tables",
    image: "images/cat1.WEBp",
  },
  {
    Name: "Audio Book",
    Code: "https://tubular-clafoutis-98417a.netlify.app",
    Link: "https://tubular-clafoutis-98417a.netlify.app",
    date: "5/28/2024",
    description: "create ludo using html tables",
    image: "images/cat1.WEBp",
  },
  {
    Name: "Color Picker",
    Code: "https://tubular-clafoutis-98417a.netlify.app",
    Link: "https://tubular-clafoutis-98417a.netlify.app",
    date: "5/28/2024",
    description: "create ludo using html tables",
    image: "images/cat1.WEBp",
  },
  {
    Name: "Color Picker",
    Code: "https://tubular-clafoutis-98417a.netlify.app",
    Link: "https://tubular-clafoutis-98417a.netlify.app",
    date: "5/28/2024",
    description: "create ludo using html tables",
    image: "images/cat1.WEBp",
  },
  {
    Name: "Color Picker",
    Code: "https://tubular-clafoutis-98417a.netlify.app",
    Link: "https://tubular-clafoutis-98417a.netlify.app",
    date: "5/28/2024",
    description: "create ludo using html tables",
    image: "images/cat1.WEBp",
  },
  {
    Name: "Color Picker",
    Code: "https://tubular-clafoutis-98417a.netlify.app",
    Link: "https://tubular-clafoutis-98417a.netlify.app",
    date: "5/28/2024",
    description: "create ludo using html tables",
    image: "images/cat1.WEBp",
  },
  {
    Name: "Color Picker",
    Code: "https://tubular-clafoutis-98417a.netlify.app",
    Link: "https://tubular-clafoutis-98417a.netlify.app",
    date: "5/28/2024",
    description: "create ludo using html tables",
    image: "images/cat1.WEBp",
  },
];

var all = document.getElementById("ASSIGNMENTS");

// Function to get views from localStorage or initialize it
function getViews(key) {
  return localStorage.getItem(key) ? parseInt(localStorage.getItem(key)) : 0;
}

// Function to increment views in localStorage
function incrementViews(key) {
  let currentViews = getViews(key);
  let newViews = currentViews + Math.floor(Math.random() * 2) + 1; // Increment by 1 or 2
  localStorage.setItem(key, newViews);
  return newViews;
}

// Function to toggle between light and dark themes
function toggleTheme() {
  var body = document.body;
  body.classList.toggle("light-theme");

  // Toggle background styles
  if (body.classList.contains("light-theme")) {
    body.style.backgroundImage = "none";
    body.style.backgroundColor = "#f3f4f6"; // Light background color
  } else {
    body.style.backgroundImage = "url('images/wall2.jpg')"; // Dark background image
    body.style.backgroundColor = "transparent";
  }

  // Store theme preference in localStorage
  var theme = body.classList.contains("light-theme") ? "light" : "dark";
  localStorage.setItem("theme", theme);
}

// Create assignment cards dynamically
assignments.forEach((assignment, index) => {
  let assignmentKey = `assignment-${index}`;
  let views = incrementViews(assignmentKey);

  var div = `
    <div class="p-4 w-full md:w-1/5">
      <div class="h-full border-2 rounded-lg overflow-hidden ironman-card transform transition-transform duration-300 hover:scale-105">
        <div class="p-6">
          <h1 class="title-font text-lg font-medium mb-3 ironman-text">${assignment.Name}</h1>
          <p class="leading-relaxed mb-3">${assignment.description}</p>
          <div class="flex items-center flex-wrap">
            <a href="${assignment.Link}" class="text-indigo-500 inline-flex items-center md:mb-2 lg:mb-0 ironman-link hover:text-pink-500">PREVIEW
              <svg class="w-4 h-4 ml-2" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round">
                <path d="M5 12h14"></path>
                <path d="M12 5l7 7-7 7"></path>
              </svg>
            </a>
            <span class="text-gray-500 mr-3 inline-flex items-center lg:ml-auto md:ml-0 ml-auto leading-none text-sm pr-3 py-1 border-r-2 ironman-border">
              <svg class="w-4 h-4 mr-1" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24">
                <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                <circle cx="12" cy="12" r="3"></circle>
              </svg>${views}
            </span>
          </div>
        </div>
      </div>
    </div>`;

  all.innerHTML += div;
});

// Function to initialize theme based on localStorage
function initializeTheme() {
  var body = document.body;
  var savedTheme = localStorage.getItem("theme");

  if (savedTheme === "light") {
    body.classList.add("light-theme");
    body.style.backgroundImage = "none";
    body.style.backgroundColor = "#f3f4f6"; // Light background color
  } else {
    body.style.backgroundImage = "url('images/wall2.jpg')"; // Dark background image
    body.style.backgroundColor = "transparent";
  }
}

// Call initializeTheme on page load
initializeTheme();

// Event listener for theme toggle button
document.getElementById("theme-toggle").addEventListener("click", toggleTheme);